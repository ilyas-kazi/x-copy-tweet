/* Put the copy icon inline inside the action icon group so native icons follow it */
.x-copy-btn-wrapper {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;            /* space between copy icon and native icons */
  opacity: 0.75;               /* slightly translucent by default */
  transition: opacity 0.12s ease, transform 0.12s ease;
  user-select: none;
  pointer-events: auto;        /* must be clickable */
  position: relative;          /* for menu positioning */
  z-index: 10000;              /* ensure menu appears above all tweet elements */
}

/* Show only when tweet is hovered */
/* when tweet or action group hovered, make it more visible */
article:hover .x-copy-btn-wrapper,
  .x-action-group:hover .x-copy-btn-wrapper {
  opacity: 1;
  transform: translateY(-1px);
}

/* Button style (round, translucent, small) */
.x-copy-btn {
  cursor: pointer;
  padding: 6px;
  border-radius: 9999px; /* fully round */
  border: none;
  background: transparent;
  transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.2s ease;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  width: 32px;
  height: 32px;
}

/* Hover effect for the button itself (subtle) */
.x-copy-btn:hover {
  background: rgba(255, 165, 0, 0.25);   /* orange translucent */
  border: 1px solid rgba(255, 165, 0, 0.45); /* circular orange border on hover */
  transform: scale(1.12);
}

/* SVG icon sizing & color - adapts to light/dark mode */
.x-copy-btn svg {
  width: 14px;
  height: 14px;
  fill: rgb(83, 100, 113); /* default gray that works in both modes */
}

/* Dark mode icon color */
[data-theme="dark"] .x-copy-btn svg,
html[style*="color-scheme: dark"] .x-copy-btn svg,
body[style*="background-color: rgb(0, 0, 0)"] .x-copy-btn svg {
  fill: rgb(113, 118, 123);
}

.x-copy-btn:hover svg {
  fill: #FFA500; /* bright orange icon on hover */
}

/* Menu dropdown - using fixed positioning to avoid z-index stacking issues */
.x-copy-menu {
  position: fixed;  /* Changed from absolute to fixed */
  background: rgb(0, 0, 0);
  border: 1px solid rgb(47, 51, 54);
  border-radius: 12px;
  box-shadow: rgba(255, 255, 255, 0.2) 0px 0px 15px, rgba(255, 255, 255, 0.15) 0px 0px 3px 1px;
  z-index: 10001;
  min-width: 180px;
  overflow: hidden;
}

.x-copy-menu-item {
  padding: 12px 16px;
  cursor: pointer;
  color: rgb(231, 233, 234);
  font-size: 15px;
  font-weight: 400;
  transition: background-color 0.2s ease;
  white-space: nowrap;
}

.x-copy-menu-item:hover {
  background: rgba(255, 165, 0, 0.1);
  color: #FFA500;
}

.x-copy-menu-item:not(:last-child) {
  border-bottom: 1px solid rgb(47, 51, 54);
}

/* Toast (Copied!) - keep as a small overlay near the action bar if inserted there */
.x-copy-toast {
  position: absolute;
  top: -36px;
  right: 0;
  background: rgba(29,155,240,0.95);
  color: #fff;
  padding: 6px 10px;
  border-radius: 8px;
  font-size: 12px;
  opacity: 0;
  transition: opacity .18s ease;
  pointer-events: none;
  transform-origin: right top;
}

.x-copy-toast.show {
  opacity: 1;
}

/* Tooltip - matching X.com native style */
.x-copy-tooltip {
  position: fixed;
  background: rgb(97, 97, 97); /* Light mode: gray background */
  color: rgb(255, 255, 255);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
  white-space: nowrap;
  pointer-events: none;
  z-index: 10002;
  opacity: 0;
  transform: translateX(-50%) scale(0.8);
  transform-origin: top center;
  transition: opacity 0.2s ease, transform 0.2s ease;
}

/* Dark mode tooltip - sky blue like X.com */
[data-theme="dark"] .x-copy-tooltip,
html[style*="color-scheme: dark"] .x-copy-tooltip,
body[style*="background-color: rgb(0, 0, 0)"] .x-copy-tooltip {
  background: rgb(29, 155, 240); /* X.com's sky blue */
  color: rgb(255, 255, 255);
}

.x-copy-tooltip.show {
  opacity: 1;
  transform: translateX(-50%) scale(1);
}